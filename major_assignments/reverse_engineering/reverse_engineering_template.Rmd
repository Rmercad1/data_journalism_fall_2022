---
title: "Reverse Engineering Project"
author: "Ryan Mercado"
date: "10/6/2022"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

What we are looking for:
we are doing research on how to reverse-engineer from Stephen's paragraph:

“We set the pace in fundraising — including raising more money in Maryland and having 73% of donations $100 or less — because this campaign has inspired thousands of people from all walks of life in Maryland and across the country who see the opportunity to make Wes Moore governor of Maryland and change the trajectories of families who have been left behind,” the campaign said in a statement."

So basically we are looking at contributions of $100 or less. 
This is the process that we used to isolate our data to that point:



In this notebook, we are reverse engineering the story, [STORY NAME](STORY URL)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
options(scipen=999)
library(tidyverse)
library(lubridate)
library(janitor)

```

We found Moore contribution data online, created it into a CSV file, and then put it in github to load it: 

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data

# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

moore_contribs <- read.csv("data/ContributionsListMoore.csv")

# Clean required data and prepare for analysis if needed. 

moore_contribs_cleanednames <- moore_contribs %>% 
  clean_names()
```

```{r}
head(moore_contribs_cleanednames)

```

We Cleaned date: 
```{r}
moore_contribs_edit <-moore_contribs_cleanednames %>% mutate(contribution_date=mdy(contribution_date))

head(moore_contribs_edit)

```

We set the contribution_amount as a number amount: 
```{r}
moore_contribs_edit_numeric <-moore_contribs_edit %>% 
mutate(across(contribution_amount, as.numeric))
head(moore_contribs_edit)

```





This is where we got stuck, we are trying to filter/ mutate to get the contributions to between $0-$100 but kept running into a wall. We tried several ways to do this but every time we ran a code, the contribution_amount kept reverting back to a character amount. 

```{r}
moore_contribs_100 <- moore_contribs_edit_numeric %>%
  filter(contribution_amount == "5+' ~ '49")
head(moore_contribs_100)
```




```{r}
md_moore_contribs_states <- moore_contribs_edit_numeric %>%
  filter(str_detect(contributor_address, " MD "))
```

```{r}
moore_contributions_filtered <- moore_contribs_edit_numeric %>%
    mutate(contributor_state = case_when(
    str_detect(contributor_address, " MD ") ~ "Maryland",
    str_detect(contributor_address, " NY ") ~ "New York",
    str_detect(contributor_address, " AL ") ~ "Alabama",
    str_detect(contributor_address, " AK ") ~ "Alaska",
    str_detect(contributor_address, " AZ ") ~ "Arizona",
    str_detect(contributor_address, " AR ") ~ "Arkansas", 
    str_detect(contributor_address, " CA" ) ~ "California", 
    str_detect(contributor_address, " CO" ) ~ "Colorado",
    str_detect(contributor_address, " CT ") ~ "Connecticut",
    str_detect(contributor_address, " DE ") ~ "Delaware",
    str_detect(contributor_address, " FL ") ~ "Florida",
    str_detect(contributor_address, " GA ") ~ "Georgia",
    str_detect(contributor_address, " HI ") ~ "Hawaii",
    str_detect(contributor_address, " ID ") ~ "Idaho",
    str_detect(contributor_address, " IL ") ~ "Illinois",
    str_detect(contributor_address, " IN ") ~ "Indiana",
    str_detect(contributor_address, " IA ") ~ "Iowa",
    str_detect(contributor_address, " KS ") ~ "Kansas",
    str_detect(contributor_address, " KY ") ~ "Kentucky",
    str_detect(contributor_address, " LA ") ~ "Louisiana",
    str_detect(contributor_address, " ME ") ~ "Maine",
    str_detect(contributor_address, " MA ") ~ "Massachusetts",
    str_detect(contributor_address, " MI ") ~ "Michigan",
    str_detect(contributor_address, " MN ") ~ "Minnesota",
    str_detect(contributor_address, " MS ") ~ "Mississippi",
    str_detect(contributor_address, " MO ") ~ "Missouri",
    str_detect(contributor_address, " MT ") ~ "Montana",
    str_detect(contributor_address, " NE" ) ~ "Nebraska",
    str_detect(contributor_address, " NV" ) ~ "Nevada ", 
    str_detect(contributor_address, " NJ ") ~ "New Jersey",
    str_detect(contributor_address, " NM ") ~ "New Mexico",
    str_detect(contributor_address, " NY ") ~ "New York",
    str_detect(contributor_address, " NC ") ~ "North Carolina",
    str_detect(contributor_address, " ND ") ~ "North Dakota",
    str_detect(contributor_address, " OH ") ~ "Ohio",
    str_detect(contributor_address, " OK ") ~ "Oklahoma",
    str_detect(contributor_address, " OR ") ~ "Oregon",
    str_detect(contributor_address, " PA ") ~ "Pennsylvania",
    str_detect(contributor_address, " RI ") ~ "Rhode Island",
    str_detect(contributor_address, " SC ") ~ "South Carolina",
    str_detect(contributor_address, " SD ") ~ "South Dakota",
    str_detect(contributor_address, " TN ") ~ "Tennessee",
    str_detect(contributor_address, " TX ") ~ "Texas",
    str_detect(contributor_address, " UT ") ~ "Utah",
    str_detect(contributor_address, " VT ") ~ "Vermont",
    str_detect(contributor_address, " VA ") ~ "Virginia",
    str_detect(contributor_address, " WA ") ~ "Washington",
    str_detect(contributor_address, " WV ") ~ "West Virginia",
    str_detect(contributor_address, " WI ") ~ "Wisconsin",
    str_detect(contributor_address, " WY ") ~ "Wyoming",
    str_detect(contributor_address, " DC ") ~ "Washington, D.C.",
    
    TRUE ~ contributor_address))

```



```{r}
moore_contribs_states_edit <- md_moore_contribs_states %>%
  filter(str_detect(contributor_address, " MD ")) %>%
  mutate(contributor_state = "Maryland")

```

```{r}
moore_contribs_edit_numeric %>% 
  mutate(contributor_address=case_when(
    contributor_address == " NJ ~ NJ "
    contributor_address == " MD 
  ))
```




```{r}
moore_contribs_edit_numeric %>% 
mutate(contribution_amount = case_when(
        contribution_amount >= 0 & contribution_amount <= 100 ~ "Less than 100"))

amount >= 10 & amount <= 25 ~ "Between $10 and $25",
```


```{r}
moore_contribs_edit_numeric %>%
  filter(contribution_amount <= 100)
head(moore_contribs_edit_numeric)
```


We tried many different codes aside from these three and just couldn't get a clean tibble to work with. We apologise. We got to the very end though of what we are looking for. 



*******end**********************



Paragraph 2: Finding contributions from outside of Maryland.

```{r}
md_moore_contribs_states <- moore_contribs_edit_numeric %>%
  filter(str_detect(contributor_address, "MD"))
```







## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 2

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 3

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-